import{a as le,j as Te}from"./jsx-runtime-68f49b4e.js";import{r as h}from"./index-f1f749bf.js";import{r as dr}from"./index-96c5f47c.js";import{r as vr}from"./index-d0c61868.js";import{u as pr}from"./index-464e8f3b.js";import"./_commonjsHelpers-042e6b4d.js";function De(e,u){for(var t=0;t<u.length;t++){var r=u[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,u,t){return u&&De(e.prototype,u),t&&De(e,t),e}function R(){return R=Object.assign||function(e){for(var u=1;u<arguments.length;u++){var t=arguments[u];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},R.apply(this,arguments)}function hr(e,u){e.prototype=Object.create(u.prototype),e.prototype.constructor=e,he(e,u)}function he(e,u){return he=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},he(e,u)}function gr(e,u){if(e==null)return{};var t={},r=Object.keys(e),n,o;for(o=0;o<r.length;o++)n=r[o],!(u.indexOf(n)>=0)&&(t[n]=e[n]);return t}function mr(e,u){if(e){if(typeof e=="string")return Fe(e,u);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fe(e,u)}}function Fe(e,u){(u==null||u>e.length)&&(u=e.length);for(var t=0,r=new Array(u);t<u;t++)r[t]=e[t];return r}function U(e,u){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=mr(e))||u&&e&&typeof e.length=="number"){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Le(e){var u=h.useRef(null);function t(r){!r||r===u.current||(u.current=r,e(r))}return t}function yr(e){var u=h.useRef(e);return h.useMemo(function(){function t(n){typeof n=="function"?u.current=n(u.current):u.current=n}function r(){return u.current}return[r,t]},[])}function Er(){var e=h.useRef([]);return h.useMemo(function(){function u(){return e.current.length>0}function t(){for(var n=U(e.current),o;!(o=n()).done;){var i=o.value;i()}e.current=[]}function r(n){e.current.push(n)}return{hasEventSubscriptions:u,removeAllEventSubscriptions:t,addEventSubscription:r}},[])}var pe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function Cr(e,u){var t=h.useRef(e);return u?(t.current=e,t):(t.current=null,t)}function K(e){return parseFloat(e.replace("px",""))}function ge(e,u,t){return e<u?u:e>t?t:e}function Re(e){return e!=null}function me(){for(var e=arguments.length,u=new Array(e),t=0;t<e;t++)u[t]=arguments[t];return function(r){for(var n=U(u),o;!(o=n()).done;){var i=o.value;i&&(typeof i=="function"?i(r):i.current=r)}}}function br(e,u){if(!(typeof e>"u"))return u||e.ResizeObserver}function Xe(e,u){var t=[];if(!e||!u||e===document.body)return t;var r=u.getComputedStyle(e),n=r.overflow,o=r.overflowX,i=r.overflowY;return[n,o,i].some(function(a){return["auto","scroll"].includes(a)})&&t.push(e),[].concat(t,Xe(e.parentElement,u))}function ee(e){return"react-laag: Could not find a valid reference for the "+e+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+e+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+e+" when the isOpen prop is set to true"}function wr(e){var u=e.enabled,t=e.onChange,r=e.environment,n=e.ResizeObserverPolyfill,o=e.overflowContainer,i=e.triggerOption,a=br(r,n);h.useEffect(function(){},[a]);var f=h.useRef(null),s=!!i,c=yr({scrollContainers:[],trigger:null,layer:null}),l=c[0],d=c[1],p=Er(),v=p.hasEventSubscriptions,g=p.addEventSubscription,m=p.removeAllEventSubscriptions,y=h.useCallback(function(){var O=l(),T=O.layer,B=O.trigger,A=O.scrollContainers,L=A[0];if(!T)throw new Error(ee("layer"));if(!B&&!s)throw new Error(ee("trigger"));var V={top:0,left:0};if(L){var x=L.scrollLeft,Y=L.scrollTop;V={top:Y,left:x}}else{var q=r.scrollX,H=r.scrollY;V={top:H,left:q}}var G={left:0,top:0};if(L){var M=r.getComputedStyle(L),Z=M.borderLeftWidth,W=M.borderTopWidth;G={left:K(Z)||0,top:K(W)||0}}t({layer:T,trigger:B,scrollContainers:A,arrow:f.current},V,G)},[l,t,r,f,s]),E=h.useCallback(function(){var O=l(),T=O.trigger,B=O.layer,A=O.scrollContainers;if(!B)throw new Error(ee("layer"));if(!T&&!s)throw new Error(ee("trigger"));if(a){for(var L=!1,V=function(){if(!L){L=!0;return}y()},x=new a(V),Y=0,q=[T,B,document.body];Y<q.length;Y++){var H=q[Y];H&&x.observe(H)}g(function(){for(var _=0,N=[T,B,document.body];_<N.length;_++){var J=N[_];J&&x.unobserve(J)}x.disconnect()})}for(var G=[r].concat(A),M=function(){var N=W.value;N.addEventListener("scroll",y),g(function(){return N.removeEventListener("scroll",y)})},Z=U(G),W;!(W=Z()).done;)M()},[l,g,y,r,a,s]),C=h.useCallback(function(b,O){u&&b&&b!==O&&(m(),E(),y())},[m,E,y,u]),F=Le(h.useCallback(function(b){var O=l(),T=O.layer;d(function(B){return R({},B,{layer:b})}),C(T,b)},[l,d,C])),w=h.useCallback(function(O){var T=Xe(O,r),B=T[0];if(B){var A=r.getComputedStyle(B).position,L=["relative","absolute","fixed"].includes(A)||o;L||(B.style.position="relative")}return T},[r,o]),D=Le(h.useCallback(function(b){var O=w(b),T=l(),B=T.trigger;d(function(A){return R({},A,{trigger:b,scrollContainers:O})}),C(B,b)},[l,d,C,w])),k=i==null||i.getParent==null?void 0:i.getParent();return pe(function(){k&&d(function(b){return R({},b,{scrollContainers:w(k)})})},[k,d,w]),pe(function(){return u&&(v()||E()),function(){v()&&m()}},[u,v,E,m]),pe(function(){u&&y()}),{triggerRef:D,layerRef:F,arrowRef:f,closestScrollContainer:l().scrollContainers[0]||null}}var ze=h.createContext({});function Or(e){var u=e.children,t=e.registrations,r=h.useCallback(function(o){return t.current.add(o),function(){return t.current.delete(o)}},[t]);return h.createElement(ze.Provider,{value:r},u)}function Sr(e,u){for(var t=U(e),r;!(r=t()).done;){var n=r.value.shouldCloseWhenClickedOutside;if(!n(u))return!1}return!0}function Br(e){var u=e.isOpen,t=e.onOutsideClick,r=e.onParentClose,n=h.useRef(null),o=h.useRef(null),i=h.useRef(new Set),a=h.useContext(ze),f=h.useCallback(function(c){var l=c.target,d=n.current&&n.current.contains(l),p=o.current&&o.current.contains(l),v=Sr(i.current,c);return p&&v&&i.current.forEach(function(g){var m=g.closeChild;return m()}),!d&&!p&&v},[n,o,i]);return h.useEffect(function(){if(typeof a=="function")return a({shouldCloseWhenClickedOutside:f,closeChild:function(){r&&r()}})},[a,f,r,i]),h.useEffect(function(){var s=typeof a=="function",c=!u||!t||s;if(c)return;function l(d){f(d)&&t()}return document.addEventListener("click",l,!0),function(){return document.removeEventListener("click",l,!0)}},[u,t,f,a]),h.useEffect(function(){u||i.current.forEach(function(s){var c=s.closeChild;return c()})},[u]),{closeOnOutsideClickRefs:{trigger:n,layer:o},registrations:i}}var Pr=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],Tr={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},Dr=function(){function e(t,r,n,o,i,a,f,s,c){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=t,this.opposite=r,this.isHorizontal=n,this.sizeProp=o,this.oppositeSizeProp=i,this.cssProp=a,this.oppositeCssProp=f,this.isCenter=s,this.isPush=c}var u=e.prototype;return u.factor=function(r){return r*(this.isPush?1:-1)},u.isOppositeDirection=function(r){return this.isHorizontal!==r.isHorizontal},e}();function z(e,u){u===void 0&&(u=!0);var t=["left","right"].includes(e);return new Dr(e,u?z(Tr[e],!1):null,t,t?"width":"height",t?"height":"width",t?"left":"top",t?"top":"left",e==="center",!["right","bottom"].includes(e))}var P={top:z("top"),bottom:z("bottom"),left:z("left"),right:z("right")},S=R({},P,{center:z("center")}),re=["top","left","bottom","right"],Ce=function(){function e(u){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,u)}return e.mergeSmallestSides=function(t){var r=t[0],n=t.slice(1);if(!r)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var o=Object.fromEntries(re.map(function(d){return[d,r[d]]})),i=U(n),a;!(a=i()).done;)for(var f=a.value,s=U(re),c;!(c=s()).done;){var l=c.value;o[l]=Math.min(o[l],f[l])}return new e(o)},ce(e,[{key:"allSidesArePositive",get:function(){var t=this;return re.every(function(r){return t[r]>=0})}},{key:"negativeSides",get:function(){var t=this;return Object.fromEntries(re.filter(function(r){return t[r]<0}).map(function(r){return[r,t[r]]}))}}]),e}();function ke(){for(var e=arguments.length,u=new Array(e),t=0;t<e;t++)u[t]=arguments[t];return u.reduce(function(r,n){return r+(n?K(n):0)},0)}function ye(e){var u=e.top,t=e.left,r=e.right,n=e.bottom,o=e.width,i=e.height;return{top:u,left:t,right:r,bottom:n,width:o,height:i}}var Fr={top:0,left:0,right:0,bottom:0,width:0,height:0},I=function(){e.create=function(r){return new e(r)},e.fromElement=function(r,n){n===void 0&&(n={});var o=n,i=o.withTransform,a=i===void 0?!0:i,f=o.environment,s=f===void 0?window:f,c=o.withScrollbars,l=c===void 0?!0:c,d=ye(r.getBoundingClientRect()),p=new e(d);if(!a){var v=s.getComputedStyle(r),g=v.width,m=v.height,y=v.boxSizing,E=v.borderLeft,C=v.borderRight,F=v.borderTop,w=v.borderBottom,D=v.paddingLeft,k=v.paddingRight,b=v.paddingTop,O=v.paddingBottom,T=y==="border-box"?K(g):ke(g,E,C,D,k),B=y==="border-box"?K(m):ke(m,F,w,b,O);p=new e(R({},p,{width:T,height:B}))}if(!l){var A=p.width-r.clientWidth,L=p.height-r.clientHeight;return p.substract({right:A,bottom:L})}return p},e.empty=function(){return new e},e.fromWindow=function(r){var n,o=(n=r==null?void 0:r.document.scrollingElement)!=null?n:r==null?void 0:r.document.documentElement,i=o??{},a=i.clientWidth,f=a===void 0?0:a,s=i.clientHeight,c=s===void 0?0:s;return new e({width:f,height:c,right:f,bottom:c})};function e(t){return t===void 0&&(t={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,Fr,t)}var u=e.prototype;return u.toObject=function(){return ye(this)},u.merge=function(r){var n=this.toObject();return new e(R({},n,typeof r=="function"?r(n):r))},u.substract=function(r){for(var n=this.toObject(),o=Object.entries(r),i=0,a=o;i<a.length;i++){var f=a[i],s=f[0],c=f[1];if(s in P){var l=P[s];n[s]+=l.factor(c),n[l.isHorizontal?"width":"height"]-=c}else n[s]-=c||0}return new e(n)},u.offsetsTo=function(r){return new Ce({top:r.top-this.top,bottom:this.bottom-r.bottom,left:r.left-this.left,right:this.right-r.right})},u.mapSides=function(r){for(var n=this.toObject(),o=Object.values(P),i=0,a=o;i<a.length;i++){var f=a[i];n[f.prop]=r(f,n[f.prop])}return new e(n)},ce(e,[{key:"surface",get:function(){return this.width*this.height}}]),e}(),Ue=function(){function e(t,r,n,o,i){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=t,this.secondary=r,this.offsets=i,this.setSubjectsBounds(n,o)}var u=e.prototype;return u.setSubjectsBounds=function(r,n){if(!n){this.subjectsBounds=r;return}var o=typeof n=="function"?n(this.primary.prop):n;this.subjectsBounds=r.merge({layer:R({},r.layer,o)})},u.getLayerBounds=function(r){if(r===void 0&&(r=0),this._cachedLayerBounds&&r===0)return this._cachedLayerBounds;var n=this.primary,o=this.secondary,i=this.subjectsBounds,a=i.trigger,f=i.layer,s=i.arrow,c=n.isHorizontal,l=n.oppositeCssProp,d=n.oppositeSizeProp,p=n.prop,v=n.opposite,g=I.empty();g[v.prop]=a[p]-n.factor(this.offsets.trigger),g[p]=g[v.prop]-n.factor(f[n.sizeProp]);var m=this.offsets.arrow*2,y=a[l]-(f[d]-s[d])+m,E=a[l]+(a[d]-s[d])-m;if(o.isPush||(y+=f[d],E+=f[d]),o.isCenter){var C=(c?P.top:P.left).prop,F=(c?P.bottom:P.right).prop;g[C]=ge(a[C]+a[d]/2-f[d]/2+r,y,E),g[F]=g[C]+f[d]}else{var w=o,D=a[w.prop],k=D<y?y-D:D>E?E-D:0;g[w.prop]=ge(D+r+k,y,E),g[w.opposite.prop]=g[w.prop]+o.factor(f[d])}g.width=g.right-g.left,g.height=g.bottom-g.top;var b=I.create(g);return r===0&&(this._cachedLayerBounds=b),b},u.getLayerCollisionBounds=function(){var r=this.offsets.container;return this.getLayerBounds().mapSides(function(n,o){return o-=n.factor(r)}).merge(function(n){var o=n.width,i=n.height;return{width:o+r*2,height:i+r*2}})},u.getContainerOffsets=function(r){if(this._cachedContainerOffsets&&!r)return this._cachedContainerOffsets;var n=this.subjectsBounds.merge({layer:r||this.getLayerCollisionBounds()}),o=Ce.mergeSmallestSides(n.layerOffsetsToScrollContainers);return r||(this._cachedContainerOffsets=o),o},ce(e,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var r=this.secondary.isHorizontal,n=this.subjectsBounds,o=n.triggerHasBiggerWidth,i=n.triggerHasBiggerHeight;return r&&o||!r&&i}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var r=this.getLayerBounds(),n=this.getContainerOffsets(r),o=n.negativeSides;for(var i in o)o[i]=-o[i];return r.substract(o).surface}},{key:"secondaryOffsetSide",get:function(){var r,n,o=this,i=this.getContainerOffsets(),a=(r=(n=Object.entries(i.negativeSides).map(function(s){var c=s[0],l=s[1];return[P[c],l]}).filter(function(s){var c=s[0];return o.primary.isOppositeDirection(c)}).sort(function(s,c){var l=s[1],d=c[1];return d-l}))==null?void 0:n[0])!=null?r:[],f=a[0];return f||null}}]),e}(),Ae=function(e){hr(u,e);function u(){return e.apply(this,arguments)||this}var t=u.prototype;return t.getLayerBounds=function(){var n=this.subjectsBounds,o=n.trigger,i=n.layer,a=I.empty();return a.top=o.top+o.height/2-i.height/2,a.bottom=a.top+i.height,a.left=o.left+o.width/2-i.width/2,a.right=a.left+i.width,a.width=a.right-a.left,a.height=a.bottom-a.top,a},u}(Ue);function Lr(e,u,t){var r=e.layer,n=e.trigger,o=e.arrow,i=u.primary.oppositeSizeProp,a=u.primary.isHorizontal?["top","bottom"]:["left","right"],f=a[0],s=a[1],c=r[f]+r[i]/2-n[f]-o[i]/2-t,l=r[s]-r[i]/2-n[s]+o[i]/2+t;return(c<0?-c:0)+(l>0?-l:0)}var He={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function Rr(e,u,t){var r;if(u.primary.isCenter)return He;var n=e.layer,o=e.trigger,i=e.arrow,a=u.primary.oppositeSizeProp,f=o[a]>n[a],s=t+i[a]/2,c=n[a]-i[a]/2-t,l=Lr(e,u,t),d=u.primary.prop,p=u.primary.oppositeCssProp,v=f?n[a]/2+l:o[p]+o[a]/2-n[p];return R({},He,(r={},r[d]="100%",r[p]=ge(v,s,c),r))}var je=function(){function e(t,r,n){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=t,this.config=r,this.subjectsBounds=n}e.getSidesFromPlacementType=function(r){var n=r.split("-"),o=n[0],i=n[1],a=P[o],f;return i==="center"?f=S.center:a.isHorizontal?f=i==="start"?S.top:S.bottom:f=i==="start"?S.left:S.right,[a,f]},e.create=function(r,n){var o={arrow:n.arrowOffset,container:n.containerOffset,trigger:n.triggerOffset};function i(a){a===void 0&&(a=n.placement);var f=e.getSidesFromPlacementType(a),s=f[0],c=f[1],l=P[s.isHorizontal?n.preferY:n.preferX],d=!s.isHorizontal&&r.triggerHasBiggerWidth||s.isHorizontal&&r.triggerHasBiggerHeight;function p(g,m){return new Ue(g,m,r,n.layerDimensions,o)}var v=[];return v[0]=p(s,c),v[1]=p(s,c.isCenter?l:S.center),v[2]=p(s,S[(c.opposite.isCenter?l.opposite:c.opposite).prop]),v[3]=p(l,d?s:S[s.opposite.prop]),v[4]=p(l,S.center),v[5]=p(l,d?S[s.opposite.prop]:s),v[6]=p(P[l.opposite.prop],d?s:S[s.opposite.prop]),v[7]=p(P[l.opposite.prop],S.center),v[8]=p(P[l.opposite.prop],d?S[s.opposite.prop]:s),v[9]=p(P[s.opposite.prop],c),v[10]=p(P[s.opposite.prop],c.isCenter?l:S.center),v[11]=p(P[s.opposite.prop],S[(c.opposite.isCenter?l.opposite:c.opposite).prop]),v=v.filter(function(g){return g.type===n.placement||n.possiblePlacements.includes(g.type)}),v}return n.placement==="center"?new e([new Ae(S.center,S.center,r,n.layerDimensions,o)].concat(i(n.preferY+"-"+n.preferX)),n,r):new e(i(),n,r)};var u=e.prototype;return u.filterPlacementsBySide=function(r){return this.placements.filter(function(n){return n.primary===r})},u.findFirstPlacementThatFits=function(){return this.placements.find(function(r){return r.fitsContainer})},u.placementWithBiggestVisibleSurface=function(){var r=this.placements.map(function(o){return{placement:o,surface:o.visibleSurface}}).sort(function(o,i){return i.surface-o.surface}),n=r[0].placement;return n},u.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},u.getSecondaryOffset=function(r){var n=this.config,o=n.auto,i=n.snap;if(!o||i||r instanceof Ae)return 0;var a=this.filterPlacementsBySide(r.primary),f=a.indexOf(r)===0;if(f&&r.fitsContainer)return 0;var s=a.find(function(g){return!g.fitsContainer});if(!s)return 0;var c=s.secondaryOffsetSide;if(!c)return 0;var l=r.getContainerOffsets(),d=r.secondary,p;r.triggerIsBigger||s===r?p=c.isPush?-1:1:p=d===S.left||[S.top,S.center].includes(d)&&c.isPush?-1:1;var v=l[c.prop];return v*p},u.getStyles=function(r,n,o,i){var a={willChange:"top, left, width, height"},f=Rr(this.subjectsBounds.merge({layer:r}),n,this.config.arrowOffset),s=this.config.overflowContainer?R({},a,{position:"fixed",top:r.top,left:r.left}):R({},a,{position:"absolute",top:r.top-this.subjectsBounds.parent.top+o.top-i.top,left:r.left-this.subjectsBounds.parent.left+o.left-i.left});return{arrow:f,layer:s}},u.getHasDisappeared=function(r){var n=this.config.overflowContainer?this.subjectsBounds.trigger:r,o=Ce.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(n,!0)),i=Object.entries(o.negativeSides),a=i.some(function(f){var s=f[0],c=f[1],l=P[s];return c<=-n[l.sizeProp]});return a?"full":o.allSidesArePositive?null:"partial"},u.result=function(r,n){var o=this.findSuitablePlacement(),i=this.getSecondaryOffset(o),a=o.getLayerBounds(i),f=this.getStyles(a,o,r,n),s=o.primary.prop;return{styles:f,layerSide:s,placement:o,layerBounds:a,hasDisappeared:this.getHasDisappeared(a)}},e}(),kr=function(){function e(t,r){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=r,Object.assign(this,t)}e.create=function(r,n,o,i,a,f,s,c){var l=I.fromWindow(r);return new e({layer:I.fromElement(n,{environment:r,withTransform:!1}),trigger:c?I.create(ye(c())):I.fromElement(o),arrow:a?I.fromElement(a):I.empty(),parent:i?I.fromElement(i):l,window:l,scrollContainers:[l].concat(f.map(function(d){return I.fromElement(d,{withScrollbars:!1})}))},s)};var u=e.prototype;return u.merge=function(r){return new e(R({},this,r),this.overflowContainer)},u.offsetsToScrollContainers=function(r,n){n===void 0&&(n=!1);var o=this.overflowContainer&&!n?[this.window]:this.scrollContainers;return o.map(function(i){return i.offsetsTo(r)})},ce(e,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),e}(),$e=null,j={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:Pr,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function Ar(e){var u,t=e.isOpen,r=t===void 0?!1:t,n=e.overflowContainer,o=n===void 0?j.overflowContainer:n,i=e.environment,a=i===void 0?typeof window<"u"?window:void 0:i,f=e.ResizeObserver,s=e.placement,c=s===void 0?j.placement:s,l=e.possiblePlacements,d=l===void 0?j.possiblePlacements:l,p=e.preferX,v=p===void 0?j.preferX:p,g=e.preferY,m=g===void 0?j.preferY:g,y=e.auto,E=y===void 0?j.auto:y,C=e.snap,F=C===void 0?j.snap:C,w=e.triggerOffset,D=w===void 0?j.triggerOffset:w,k=e.containerOffset,b=k===void 0?j.containerOffset:k,O=e.arrowOffset,T=O===void 0?j.arrowOffset:O,B=e.container,A=B===void 0?j.container:B,L=e.layerDimensions,V=L===void 0?null:L,x=e.onDisappear,Y=e.onOutsideClick,q=e.onParentClose,H=e.trigger,G=h.useState(function(){return{layerSide:c==="center"?"center":je.getSidesFromPlacementType(c)[0].prop,styles:{layer:{position:o?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),M=G[0],Z=G[1],W=h.useRef(null),_=Cr(M,r),N=h.useRef({cancelled:!1});h.useEffect(function(){return function(){N.current.cancelled=!0}},[]);var J=h.useCallback(function(X,tr,ur){var nr=X.arrow,or=X.layer,Se=X.scrollContainers,ir=X.trigger,ar=Se[0],sr=kr.create(a,or,ir,ar,nr,Se,o,H==null?void 0:H.getBounds),lr={placement:c,possiblePlacements:d,auto:E,layerDimensions:V,arrowOffset:T,containerOffset:b,triggerOffset:D,preferX:v,preferY:m,snap:F,overflowContainer:o},de=je.create(sr,lr).result(tr,ur),Be=de.hasDisappeared,fr=de.layerSide,cr=de.styles,ve={layerSide:fr,styles:cr};if(!_.current||Hr(_.current,ve)){_.current=ve,N.current.cancelled=!0;var Pe={cancelled:!1};N.current=Pe,Promise.resolve().then(function(){Pe.cancelled||Z(ve)})}Re(Be)&&Re(x)&&x(Be)},[T,E,b,a,V,x,o,c,d,v,m,F,D,_,H]),Q=wr({ResizeObserverPolyfill:f,environment:a,enabled:r,overflowContainer:o,onChange:J,triggerOption:H}),Ze=Q.triggerRef,Ke=Q.layerRef,Je=Q.arrowRef,be=Q.closestScrollContainer,we=Br({isOpen:r,onOutsideClick:Y,onParentClose:q}),Oe=we.closeOnOutsideClickRefs,Qe=we.registrations,er={triggerProps:H?{}:{ref:me(Ze,Oe.trigger,W)},layerProps:{ref:me(Ke,Oe.layer),style:M.styles.layer},arrowProps:{ref:Je,style:M.styles.arrow,layerSide:M.layerSide},layerSide:M.layerSide,triggerBounds:r?H?H.getBounds():(u=W.current)==null?void 0:u.getBoundingClientRect():null,renderLayer:function(X){return typeof document<"u"?dr.createPortal(h.createElement(Or,{registrations:Qe,children:X}),o||!be?jr(A):be):null}};return er}function Hr(e,u){if(e.layerSide!==u.layerSide)return!0;for(var t=["position","top","left","right","bottom"],r=0,n=t;r<n.length;r++){var o=n[r];if(e.styles.layer[o]!==u.styles.layer[o]||e.styles.arrow[o]!==u.styles.arrow[o])return!0}return!1}var Ie="layers";function jr(e){var u;if(typeof e=="function"){if(u=e(),!u||!(u instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(e instanceof HTMLElement)u=e;else if(typeof e=="string"){if(u=document.getElementById(e),!u)throw new Error("react-laag: You've passed element with id '"+e+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if($e instanceof HTMLElement)return $e;u=document.getElementById(Ie),u||(u=document.createElement("div"),u.id=Ie,u.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(u))}return u}var $r=["size","angle","borderWidth","borderColor","roundness","backgroundColor","layerSide","style"],oe="left",ie="top",ae="bottom",se="right";function fe(e,u){return Math.tan(e*(Math.PI/180))*u}function Ir(e,u,t,r){var n,o=(n={},n[ae]="0 "+-r+" "+u+" "+e,n[ie]="0 0 "+u+" "+(e+r),n[se]=-r+" 0 "+e+" "+u,n[oe]="0 0 "+(e+r)+" "+u,n);return o[t.prop]}function Mr(e,u,t,r,n){var o,i,a,f=r/10*e*2,s=(o={},o[ae]=[0,e],o[ie]=[0,0],o[se]=[e,u],o[oe]=[0,u],o)[t.prop].join(" "),c=t.isHorizontal?"V 0":"H "+u,l=u/2,d=u/2+fe(n,e/8),p=e/8,v=(i={},i[ae]=["C",d,p,l+f,0,l,0],i[ie]=["C",d,e-p,l+f,e,l,e],i[se]=["C",p,u-d,0,l-f,0,l],i[oe]=["C",e-p,u-d,e,l-f,e,l],i)[t.prop].join(" "),g=u/2-fe(n,e/8),m=e/8,y=(a={},a[ae]=["C",l-f,0,g,m,s],a[ie]=["C",l-f,e,g,e-m,s],a[se]=["C",0,l+f,m,u-g,s],a[oe]=["C",e,l+f,e-m,u-g,s],a)[t.prop].join(" ");return["M",s,c,v,y].join(" ")}function _r(e,u,t,r,n){var o=fe(n,t),i=r.isPush?[0,t]:[e,e-t],a=i[0],f=i[1];return r.isHorizontal?["M",a,t,"V",u-t,"L",f,u-t-o,"V",o+t,"Z"].join(" "):["M",t,a,"H",u-t,"L",u-t-o,f,"H",o+t,"Z"].join(" ")}var xr=h.forwardRef(function(u,t){var r=u.size,n=r===void 0?8:r,o=u.angle,i=o===void 0?45:o,a=u.borderWidth,f=a===void 0?0:a,s=u.borderColor,c=s===void 0?"black":s,l=u.roundness,d=l===void 0?0:l,p=u.backgroundColor,v=p===void 0?"white":p,g=u.layerSide,m=g===void 0?"top":g,y=u.style,E=y===void 0?{}:y,C=gr(u,$r);if(m==="center")return null;var F=P[m],w=n,D=fe(i,n)*2,k=Math.max(w,D);return h.createElement("svg",R({ref:t},C,{style:R({},E,{transform:"translate"+(F.isHorizontal?"Y":"X")+"(-50%)"}),width:k,height:k,preserveAspectRatio:F.isPush?"xMinYMin":"xMaxYMax",viewBox:Ir(w,D,F,f)}),h.createElement("path",{fill:v,strokeWidth:f,stroke:c,d:Mr(w,D,F,d,i)}),h.createElement("path",{fill:v,d:_r(w,D,f,F,i)}))}),$;(function(e){e[e.ENTERING=0]="ENTERING",e[e.LEAVING=1]="LEAVING",e[e.IDLE=2]="IDLE"})($||($={}));function Nr(e){var u=e===void 0?{}:e,t=u.delayEnter,r=t===void 0?0:t,n=u.delayLeave,o=n===void 0?0:n,i=u.hideOnScroll,a=i===void 0?!0:i,f=h.useState(!1),s=f[0],c=f[1],l=h.useRef(null),d=h.useRef($.IDLE),p=h.useRef(!1),v=h.useCallback(function(){clearTimeout(l.current),l.current=null,d.current=$.IDLE},[]);function g(){d.current===$.LEAVING&&l.current&&v(),!s&&(d.current=$.ENTERING,l.current=window.setTimeout(function(){c(!0),l.current=null,d.current=$.IDLE},r))}function m(E,C){if(d.current===$.ENTERING&&l.current&&v(),!!s){if(C){c(!1),l.current=null,d.current=$.IDLE;return}d.current=$.LEAVING,l.current=window.setTimeout(function(){c(!1),l.current=null,d.current=$.IDLE},o)}}h.useEffect(function(){function E(){s&&a&&(v(),c(!1))}return window.addEventListener("scroll",E,!0),function(){window.removeEventListener("scroll",E,!0),l.current&&clearTimeout(l.current)}},[s,a,v]);var y={onMouseEnter:g,onMouseLeave:m,onTouchStart:function(){p.current=!1},onTouchMove:function(){p.current=!0},onTouchEnd:function(){!p.current&&!s&&c(!0),p.current=!1}};return[s,y,function(){return m(null,!0)}]}const Vr="_popover__content_o80ge_1",Yr={popover__content:Vr},Ee=({trigger:e="click",auto:u=!0,placement:t="bottom-center",...r})=>{var E;const n=pr(Yr,r.className),[o,i]=h.useState(!!r.defaultIsOpen),[a,f]=Nr(r.hoverOptions),s=h.useRef(null),c=h.useCallback(()=>{i(!1)},[]),{renderLayer:l,triggerProps:d,layerProps:p,arrowProps:v}=Ar({isOpen:e==="hover"?a:o,onOutsideClick:c,onDisappear:c,container:((E=s.current)==null?void 0:E.parentElement)??void 0,overflowContainer:r.overflowContainer,triggerOffset:r.triggerOffset,containerOffset:r.containerOffset,arrowOffset:r.arrowOffset,preferX:r.preferX,preferY:r.preferY,auto:u,placement:t}),g=h.useMemo(()=>{let C={ref:me(s,d.ref)};if(e==="hover"?C={...C,...f}:C.onClick=F=>{F.preventDefault(),i(w=>!w)},vr.isElement(r.children))return h.cloneElement(r.children,C);if(r.children)return le("div",{...C,children:r.children})},[r.children,e,f,d]),m=h.useMemo(()=>{if(r.arrow)return le(xr,{...r.arrowOptions,...v})},[r.arrow,r.arrowOptions,v]),y=h.useMemo(()=>{if(o||e==="hover"&&a)return l(Te("div",{...p,className:n("popover__content"),children:[typeof r.render=="function"?r.render():r.render,m]}))},[o,a,e,p,m,l]);return Te(h.Fragment,{children:[g,y]})};try{Ee.displayName="Popover",Ee.__docgenInfo={description:"Компонент `Popover` используется для отображения содержимого во всплывающем блоке при клике или наведении на указанный элемент-триггер. Поповер может использоваться для отображения дополнительной информации, подсказок или контекстного меню.",displayName:"Popover",props:{className:{defaultValue:null,description:"Задает дополнительные CSS классы для стилизации компонента.",name:"className",required:!1,type:{name:"string | TStyle"}},children:{defaultValue:null,description:"Принимает элементы, которые будут использованы в качестве триггера.",name:"children",required:!1,type:{name:"ReactNode"}},trigger:{defaultValue:{value:"click"},description:"Событие, при котором будет открываться `Popover`.",name:"trigger",required:!1,type:{name:"enum",value:[{value:'"click"'},{value:'"hover"'}]}},defaultIsOpen:{defaultValue:null,description:"Определяет, будет ли `Popover` отображаться при первоначальном рендеринге компонента.",name:"defaultIsOpen",required:!1,type:{name:"boolean"}},overflowContainer:{defaultValue:null,description:"",name:"overflowContainer",required:!1,type:{name:"boolean"}},auto:{defaultValue:{value:"true"},description:"Определяет, должен ли автоматически подстраиваться под размеры экрана.",name:"auto",required:!1,type:{name:"boolean"}},placement:{defaultValue:{value:"bottom-center"},description:"Определяет местоположение, куда будет отображаться всплывающий блок.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"bottom-center"'},{value:'"top-start"'},{value:'"top-center"'},{value:'"top-end"'},{value:'"left-end"'},{value:'"left-center"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-center"'},{value:'"right-start"'}]}},triggerOffset:{defaultValue:null,description:"Определяет смещение позиции относительно триггера, который вызывает всплывающее окно.",name:"triggerOffset",required:!1,type:{name:"number"}},containerOffset:{defaultValue:null,description:"Задает смещение относительно контейнера, в котором находится.",name:"containerOffset",required:!1,type:{name:"number"}},arrowOffset:{defaultValue:null,description:"Определяет смещение стрелки.",name:"arrowOffset",required:!1,type:{name:"number"}},preferX:{defaultValue:null,description:"",name:"preferX",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},preferY:{defaultValue:null,description:"",name:"preferY",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},render:{defaultValue:null,description:"Определяет, какой контент будет отображаться внутри всплывающего окна.",name:"render",required:!1,type:{name:"ReactNode | (() => ReactNode)"}},hoverOptions:{defaultValue:null,description:"",name:"hoverOptions",required:!1,type:{name:"UseHoverOptions"}},arrow:{defaultValue:null,description:"Определяет, должна ли стрелка быть отображена внутри всплывающего блока.",name:"arrow",required:!1,type:{name:"boolean"}},arrowOptions:{defaultValue:null,description:"",name:"arrowOptions",required:!1,type:{name:"{ angle?: number; size?: number; roundness?: number | undefined; borderWidth?: number | undefined; borderColor?: string | undefined; backgroundColor?: string | undefined; } | undefined"}}}}}catch{}const Zr={title:"Components/Popover",component:Ee,tags:["autodocs"],args:{children:"Trigger",render:"Render"}},te={},ue={args:{trigger:"hover"}},ne={args:{children:le("a",{href:"#",children:"Триггер"}),render:()=>le("div",{children:"Render"})}};var Me,_e,xe;te.parameters={...te.parameters,docs:{...(Me=te.parameters)==null?void 0:Me.docs,source:{originalSource:"{}",...(xe=(_e=te.parameters)==null?void 0:_e.docs)==null?void 0:xe.source}}};var Ne,Ve,Ye;ue.parameters={...ue.parameters,docs:{...(Ne=ue.parameters)==null?void 0:Ne.docs,source:{originalSource:`{
  args: {
    trigger: 'hover'
  }
}`,...(Ye=(Ve=ue.parameters)==null?void 0:Ve.docs)==null?void 0:Ye.source}}};var Ge,We,qe;ne.parameters={...ne.parameters,docs:{...(Ge=ne.parameters)==null?void 0:Ge.docs,source:{originalSource:`{
  args: {
    children: <a href="#">Триггер</a>,
    render: () => <div children="Render" />
  }
}`,...(qe=(We=ne.parameters)==null?void 0:We.docs)==null?void 0:qe.source}}};const Kr=["Default","Hover","Elements"];export{te as Default,ne as Elements,ue as Hover,Kr as __namedExportsOrder,Zr as default};
//# sourceMappingURL=index.stories-ef72fc07.js.map
